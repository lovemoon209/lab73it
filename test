#include <gtest/gtest.h>
#include "Matrixm3it.h"
#include <iostream>
using namespace std;

TEST(MatrixTest, Part1_Count_WithZeros) {
    int n = 3;
    int** a = new int*[n];
    for (int i = 0; i < n; i++)
        a[i] = new int[n];

    int data[3][3] = {
        {0, 2, 3},
        {1, 0, -4},
        {5, 6, 7}
    };

    for (int i = 0; i < n; i++)
        for (int j = 0; j < n; j++)
            a[i][j] = data[i][j];

    int count = 0;
    bool hasZero = Part1_Count(a, n, count);

    EXPECT_TRUE(hasZero);
    EXPECT_EQ(count, 3);  // у стовпцях з нулями: стовпець 0 (1,5), стовпець 1 (2,6)

    for (int i = 0; i < n; i++)
        delete[] a[i];
    delete[] a;
}

TEST(MatrixTest, Part1_Count_WithoutZeros) {
    int n = 3;
    int** a = new int*[n];
    for (int i = 0; i < n; i++)
        a[i] = new int[n];

    int data[3][3] = {
        {1, 2, 3},
        {4, 5, 6},
        {7, 8, 9}
    };

    for (int i = 0; i < n; i++)
        for (int j = 0; j < n; j++)
            a[i][j] = data[i][j];

    int count = 0;
    bool hasZero = Part1_Count(a, n, count);

    EXPECT_FALSE(hasZero);
    EXPECT_EQ(count, 0);

    for (int i = 0; i < n; i++)
        delete[] a[i];
    delete[] a;
}

TEST(MatrixTest, Part2_SaddlePoint_Found) {
    int n = 3;
    int** a = new int*[n];
    for (int i = 0; i < n; i++)
        a[i] = new int[n];

    int data[3][3] = {
        {1, 3, 2},
        {4, 5, 6},
        {7, 8, 9}
    };

    for (int i = 0; i < n; i++)
        for (int j = 0; j < n; j++)
            a[i][j] = data[i][j];

    EXPECT_TRUE(IsMaxInRowN(a, n, 2, 2));
    EXPECT_TRUE(IsMinInColK(a, n, 2, 2));

    for (int i = 0; i < n; i++)
        delete[] a[i];
    delete[] a;
}
